<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>B-33型《バーバラさん》 診断記録</title>

<!-- Adobe Fonts: 秀英角ゴシック金（キットID: ouz3iep） -->
<script>
  (function(d){var config={kitId:'ouz3iep',scriptTimeout:3000,async:true},
  h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),
  tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";
  tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;
  tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;
  f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};
  s.parentNode.insertBefore(tk,s)})(document);
</script>

<link rel="stylesheet" href="style.css?v=7" />
</head>
<body>

<!-- 全体ノイズ（弱め・任意。強すぎならdisplay:noneでもOK） -->
<div id="noise" aria-hidden="true"></div>

<!-- 1) ロード -->
<section id="screen-loading" class="screen active">
  <div class="center">
    <p class="spaced">診断結果からデータを取得しています。<br>今しばらくお待ちください。</p>
    <p id="load-per" class="percent">0%</p>
  </div>
</section>

<!-- 2) 怪異名（2秒） -->
<section id="screen-name" class="screen hidden">
  <div class="center">
    <h1 class="kaiki">B-33型《バーバラさん》</h1>
  </div>
</section>

<!-- 3) 発祥（レトロUI + 縦スクロールのみ + CRT + 画面別ノイズ） -->
<section id="screen-story" class="screen hidden">
  <div class="browser retro crt">
    <div class="retro-titlebar">
      <span class="retro-title">発　　祥</span>
      <div class="retro-controls">
        <span class="ctrl">_</span><span class="ctrl">□</span><span class="ctrl close">×</span>
      </div>
    </div>
    <div class="retro-pane">
      <h2 class="kaiki-sub chromatic">“B-33型《バーバラさん》”</h2>
      <div id="story-scroll" class="scrollbox phosphor">
        <div id="story-text" class="typewriter"></div>
        <!-- “たすけて”がここにタイプライターで追記されます -->
      </div>
      <button id="btn-to-warning" class="btn">過去の患者カルテを見る</button>
    </div>
  </div>
</section>

<!-- 4) 注意事項 -->
<section id="screen-warning" class="screen hidden">
  <div class="center">
    <p class="warning spaced">
      これから表示される内容は極めて危険です。<br>
      閲覧によって発生したいかなる事象についても当院は責任を負いかねます。<br>
      自己責任で閲覧してください。
    </p>
    <button id="btn-agree" class="btn">同意して閲覧</button>
  </div>
</section>

<!-- 5) カルテ取得 -->
<section id="screen-records-loading" class="screen hidden">
  <div class="center">
    <p class="spaced">カルテ情報を取得しています…</p>
    <p id="rec-per" class="percent">0%</p>
  </div>
</section>

<!-- 6) カルテ一覧（CRT + 画面別ノイズ） -->
<section id="screen-records" class="screen hidden">
  <div class="records crt">
    <h3 class="records-title chromatic">患者記録一覧</h3>

    <!-- 以降はJSで自動生成でもOK。ここではサンプルを直書きしておく -->
    <div id="records-list">
      <!-- JSでカード群が生成されます -->
    </div>

    <div class="controls">
      <button id="btn-back-story" class="btn">発祥ストーリーに戻る</button>
    </div>
  </div>
</section>

<!-- 7) 詳細モーダル -->
<div id="modal" role="dialog" aria-hidden="true">
  <div class="modal-inner">
    <h4 id="modal-title" class="modal-title">患者記録</h4>
    <div id="modal-body" class="modal-body"></div>
    <div class="modal-actions">
      <button id="modal-close" class="btn">閉じる</button>
    </div>
  </div>
</div>

<script src="script.js?v=7"></script>
</body>
</html>
